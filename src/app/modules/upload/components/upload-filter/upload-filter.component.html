<mat-accordion class="headers-align">
  <mat-expansion-panel hideToggle>
    <mat-expansion-panel-header>
      <mat-panel-title>
        Options
      </mat-panel-title>
      <mat-panel-description>
        Filter and sort uploads
        <mat-icon>search</mat-icon>
      </mat-panel-description>
    </mat-expansion-panel-header>
    <form [formGroup]="filterForm" (ngSubmit)="onSubmit()">
        <h4>Filters</h4>
        <mat-form-field class="full-width">
            <input formControlName="name" matInput placeholder="File name">
        </mat-form-field>
        <mat-form-field class="full-width">
            <mat-label>Extensions</mat-label>
            <mat-select formControlName="extensions" multiple>
                <mat-option *ngFor="let extension of availableExtensions | async" [value]="extension">{{extension}}</mat-option>
            </mat-select>
        </mat-form-field>
        <div formGroupName="createdAt">
            <mat-form-field class="half-width">
                <input (click)="startPicker.open()" [max]="maxStartDate" matInput formControlName="start" [matDatepicker]="startPicker" placeholder="Created after">
                <mat-datepicker-toggle matSuffix [for]="startPicker"></mat-datepicker-toggle>
                <mat-datepicker #startPicker></mat-datepicker>
            </mat-form-field>
            <mat-form-field class="half-width">
                <input (click)="endPicker.open()" [max]="maxEndDate" [min]="startDate" matInput formControlName="end" [matDatepicker]="endPicker" placeholder="Created before">
                <mat-datepicker-toggle matSuffix [for]="endPicker"></mat-datepicker-toggle>
                <mat-datepicker #endPicker></mat-datepicker>
            </mat-form-field>
        </div>
        <h4>Sorting</h4>
        <mat-form-field class="full-width">
            <mat-label>Sorting type</mat-label>
            <mat-select formControlName="sortType">
                <mat-option>None</mat-option>
                <mat-option *ngFor="let sortType of sortingTypes.values()" [value]="sortType">{{sortType}}</mat-option>
            </mat-select>
        </mat-form-field>
        <mat-action-row>
            <button type="reset" mat-button><mat-icon>clear</mat-icon> RESET</button>
            <button type="submit" color="primary" mat-button><mat-icon>search</mat-icon> SEARCH</button>
        </mat-action-row>
    </form>
  </mat-expansion-panel>
</mat-accordion>